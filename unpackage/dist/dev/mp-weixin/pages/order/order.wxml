<view class="page data-v-127632e4"><view class="message data-v-127632e4"><view class="message-tabs data-v-127632e4"><i-tabs bind:change="__e" bind:input="__e" vue-id="3c50aaa2-1" value="{{current}}" data-event-opts="{{[['^change',[['tabChange']]],['^input',[['__set_model',['','current','$event',[]]]]]]}}" class="data-v-127632e4" bind:__l="__l" vue-slots="{{['default']}}"><i-tab vue-id="{{('3c50aaa2-2')+','+('3c50aaa2-1')}}" item-key="1" title="待办理" class="data-v-127632e4" bind:__l="__l"></i-tab><i-tab vue-id="{{('3c50aaa2-3')+','+('3c50aaa2-1')}}" item-key="2" title="已完成" class="data-v-127632e4" bind:__l="__l"></i-tab></i-tabs></view></view><scroll-view class="message-content data-v-127632e4" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['onScrolltolower',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{current=='1'}}"><view class="data-v-127632e4"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toView',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card data-v-127632e4" bindtap="__e"><view class="message-card-topRight data-v-127632e4">{{''+item.m0+''}}</view><view class="message-card-right data-v-127632e4"><view class="message-card-right-arrow data-v-127632e4"></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约日期:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.$orig.appointDate+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约时间:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.$orig.appointTime+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约重量:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.$orig.orderDetails[0].estimateWeight+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约地点:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.$orig.locationAddress+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4" style="font-weight:550;">预约物品</view><view class="message-card-right-title-right data-v-127632e4"></view></view><block wx:for="{{item.$orig.orderDetails}}" wx:for-item="iem" wx:for-index="index1" wx:key="index1"><view class="message-card-right-content data-v-127632e4"><view class="message-card-right-content-item data-v-127632e4">{{''+iem.typeName+''}}</view><view class="message-card-right-content-item data-v-127632e4">{{''+(iem.actualWeight?iem.actualWeight+'(公斤)':iem.estimateWeight)+''}}</view><block wx:if="{{item.$orig.state=='1'}}"><view class="message-card-right-content-item data-v-127632e4"></view></block><block wx:if="{{iem.actualPrice}}"><view class="message-card-right-content-item data-v-127632e4">{{''+(iem.actualPrice+'(元)')+''}}</view></block><block wx:if="{{item.$orig.state=='3'&&userType=='3'}}"><view data-event-opts="{{[['tap',[['openModal',['$0'],[[['todoList','',index],['orderDetails','',index1]]]]]]]}}" class="message-card-right-content-item data-v-127632e4" style="color:#19BE6B;" catchtap="__e">完善订单</view></block></view></block><block wx:if="{{userType=='4'}}"><view class="message-card-right-btns data-v-127632e4"><block wx:if="{{item.$orig.state=='2'}}"><view data-event-opts="{{[['tap',[['reback',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-reject data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-reject-btn data-v-127632e4">撤回</view></view></block><block wx:if="{{item.$orig.state=='1'}}"><view data-event-opts="{{[['tap',[['del',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-reject data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-reject-btn data-v-127632e4">删除</view></view></block><block wx:if="{{item.$orig.state=='2'}}"><view data-event-opts="{{[['tap',[['agree',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-agree data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-agree-btn data-v-127632e4">确认回收</view></view></block><block wx:if="{{item.$orig.state=='3'}}"><view class="message-card-right-btns-agree data-v-127632e4" style="color:#222222;background:#FFFFFF;">等待到账...</view></block><block wx:if="{{item.$orig.state=='4'}}"><view data-event-opts="{{[['tap',[['agree1',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-agree data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-agree-btn data-v-127632e4">确认到账</view></view></block></view></block><block wx:if="{{userType=='3'}}"><view class="message-card-right-btns data-v-127632e4"><block wx:if="{{item.$orig.state=='1'}}"><view data-event-opts="{{[['tap',[['agree2',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-agree data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-agree-btn data-v-127632e4">确认</view></view></block><block wx:if="{{item.$orig.state=='3'}}"><view data-event-opts="{{[['tap',[['agree3',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card-right-btns-agree data-v-127632e4" catchtap="__e"><view class="message-card-right-btns-agree-btn data-v-127632e4">确认支付</view></view></block></view></block></view></view></block><block wx:if="{{todoList.length}}"><uni-load-more vue-id="3c50aaa2-4" status="{{status}}" class="data-v-127632e4" bind:__l="__l"></uni-load-more></block></view></block><block wx:if="{{current=='2'}}"><view class="data-v-127632e4"><block wx:for="{{todoList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toView2',['$0'],[[['todoList','',index]]]]]]]}}" class="message-card data-v-127632e4" bindtap="__e"><view class="message-card-topRight data-v-127632e4" style="background:#31b977;">已完成</view><view class="message-card-right data-v-127632e4"><view class="message-card-right-arrow data-v-127632e4"></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约日期:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.appointDate+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约时间:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.appointTime+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约重量:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.orderDetails[0].estimateWeight+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4">预约地点:</view><view class="message-card-right-title-right data-v-127632e4" style="flex:2;">{{''+item.locationAddress+''}}</view></view><view class="message-card-right-title data-v-127632e4"><view class="message-card-right-title-left data-v-127632e4" style="font-weight:700;">预约物品</view><view class="message-card-right-title-right data-v-127632e4"></view></view><block wx:for="{{item.orderDetails}}" wx:for-item="iem" wx:for-index="index1" wx:key="index1"><view class="message-card-right-content data-v-127632e4"><view class="message-card-right-content-item data-v-127632e4">{{''+iem.typeName+''}}</view><view class="message-card-right-content-item data-v-127632e4">{{''+(iem.actualWeight?iem.actualWeight+'(公斤)':iem.estimateWeight)+''}}</view><view class="message-card-right-content-item data-v-127632e4">{{''+(iem.actualPrice?iem.actualPrice+'(元)':'')+''}}</view></view></block></view></view></block><block wx:if="{{todoList.length}}"><uni-load-more vue-id="3c50aaa2-5" status="{{status}}" class="data-v-127632e4" bind:__l="__l"></uni-load-more></block></view></block><no-message vue-id="3c50aaa2-6" isShowNodata="{{isShowNodata}}" list="{{todoList}}" class="data-v-127632e4" bind:__l="__l"></no-message><neil-modal vue-id="3c50aaa2-7" show="{{showModal}}" title="请完善订单" data-event-opts="{{[['^cancel',[['bindBtn',['cancel']]]],['^confirm',[['bindBtn',['confirm']]]]]}}" bind:cancel="__e" bind:confirm="__e" class="data-v-127632e4" bind:__l="__l" vue-slots="{{['default']}}"><view class="input-view data-v-127632e4"><view class="input-name data-v-127632e4" style="padding:20rpx 30rpx;display:flex;font-size:28rpx;"><view class="data-v-127632e4">实际价格</view><input style="margin-left:20rpx;" type="text" placeholder="请输入实际价格" data-event-opts="{{[['input',[['__set_model',['','actualPrice','$event',[]]]]]]}}" value="{{actualPrice}}" bindinput="__e" class="data-v-127632e4"/></view><view class="input-password data-v-127632e4" style="padding:20rpx 30rpx;display:flex;font-size:28rpx;"><view class="data-v-127632e4">实际重量</view><input style="margin-left:20rpx;" type="text" placeholder="请输入实际重量" data-event-opts="{{[['input',[['__set_model',['','actualWeight','$event',[]]]]]]}}" value="{{actualWeight}}" bindinput="__e" class="data-v-127632e4"/></view></view></neil-modal></scroll-view></view>